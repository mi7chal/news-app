{"ast":null,"code":"var _jsxFileName = \"/Users/michal/Documents/portal_psi/src/header/header.js\",\n    _s = $RefreshSig$();\n\nimport './header.css';\nimport React, { useState, useEffect, useRef } from 'react';\nimport { Link } from 'react-router-dom';\nimport { useHistory } from 'react-router'; //import { render } from '@testing-library/react';\n\nimport PopUpLogin from './login/login';\nimport { useSelector, useDispatch } from 'react-redux';\nimport { signIn, signOut, notificationsPush } from '../redux/actions/';\nimport logo from '../img/ic.png';\nimport SearchBox from './searchBox/searchBox';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction Header() {\n  _s();\n\n  const [loginBool, setLoginBool] = useState(false);\n  const isLogged = useSelector(state => state.isLogged);\n  const notifications = useSelector(state => state.notifications);\n  const dispatch = useDispatch();\n  const history = useHistory();\n  const [searchBoxes, setSerachBoxes] = useState(null);\n  const [focused, setFocused] = useState(false);\n  const search = useRef();\n  const searchBox = useRef();\n  useEffect(() => {\n    async function fetchDatta() {\n      const fetchData = await fetch('http://localhost/blogg/api/isLogged.php', {\n        credentials: 'include',\n        method: 'GET'\n      });\n      const data = await fetchData.json();\n\n      if (data.status === 1) {\n        dispatch(signIn());\n      }\n    }\n\n    fetchDatta();\n  }, [dispatch, isLogged, notifications]);\n\n  const onFocus = () => {\n    setFocused(true);\n    searchBox.current.style.width = \"210px\";\n  };\n\n  const onBlur = () => {\n    if (search.current.value.length === 0) {\n      searchBox.current.style.width = \"30px\";\n      setFocused(false);\n    }\n  };\n\n  const onMouseEnter = () => {\n    searchBox.current.style.width = \"210px\";\n  };\n\n  const onMouseLeave = () => {\n    if (focused === false) {\n      searchBox.current.style.width = \"30px\";\n    }\n  };\n\n  const onChange = async e => {\n    const reqBody = {\n      phrase: e.target.value,\n      long: false\n    };\n    const fetchData = await fetch('http://localhost/blogg/api/search.php', {\n      credentials: 'include',\n      method: 'POST',\n      body: JSON.stringify(reqBody)\n    });\n    const data = await fetchData.json();\n\n    if (data.status === 1) {\n      var dataToDisplay = await data.body.map(x => /*#__PURE__*/_jsxDEV(SearchBox, {\n        object: x,\n        onLinkClicked: () => {\n          search.current.value = '';\n          setSerachBoxes(null);\n          searchBox.current.style.width = \"30px\";\n          setFocused(false);\n        }\n      }, x.id, false, {\n        fileName: _jsxFileName,\n        lineNumber: 70,\n        columnNumber: 17\n      }, this));\n      setSerachBoxes(dataToDisplay);\n    }\n  };\n\n  const logOut = async () => {\n    const fetchData = await fetch('http://localhost/blogg/api/logout.php', {\n      credentials: 'include',\n      method: 'GET'\n    });\n    const data = await fetchData.json();\n\n    if (data.status === 1) {\n      dispatch(signOut());\n      history.push('/'); // history.go(0);\n\n      dispatch(notificationsPush({\n        x: \"Zostałeś wylogowany\",\n        color: \"\"\n      }));\n    }\n  };\n\n  function* switcher() {\n    let state = 0;\n    const root = document.documentElement;\n\n    while (true) {\n      root.style.setProperty('--background', \"#fff\");\n      root.style.setProperty('--backgroundLight', \"rgb(199, 199, 199)\");\n      root.style.setProperty('--textOnBackground', \"rgb(19, 19, 19)\");\n      root.style.setProperty('--textOnContrast', \"rgb(241, 241, 241)\");\n      yield;\n      root.style.setProperty('--background', \"#000\");\n      root.style.setProperty('--backgroundLight', \"rgb(59, 59, 59)\");\n      root.style.setProperty('--textOnBackground', \"#ffdd00\");\n      root.style.setProperty('--textOnContrast', \"#ff0000\");\n      yield;\n      root.style.setProperty('--background', \"rgb(44, 44, 44)\");\n      root.style.setProperty('--backgroundLight', \"rgb(59, 59, 59)\");\n      root.style.setProperty('--textOnBackground', \"rgb(241, 241, 241)\");\n      root.style.setProperty('--textOnContrast', \"rgb(19, 19, 19)\");\n      yield;\n      if (state === 3) state = 1;\n    }\n  }\n\n  const changeFontSize = (property, action) => {\n    const root = document.documentElement;\n    const rootToGet = window.getComputedStyle(root);\n    const text = rootToGet.getPropertyValue(property);\n    let output = text.substring(0, text.length - 2);\n    console.log(output);\n    if (action === true) root.style.setProperty(property, `${++output}px`);else if (action === false) root.style.setProperty(property, `${--output}px`);else throw 'Parameter action is not a boolean';\n  };\n\n  let switchColors = switcher();\n\n  const zoomIn = () => {\n    changeFontSize('--normalFontSize', true);\n    changeFontSize('--mediumFontSize', true);\n    changeFontSize('--bigFontSize', true);\n    changeFontSize('--defaultFontSize', true);\n  };\n\n  const zoomOut = () => {//document.body.zoom(300);\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"header\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"mainHeader\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"mainHeaderWrap\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"loginRegisterButtons\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"headerWrapper\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"HeaderAccessibilityOptions\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"HeaderZoomOut\",\n                onClick: () => zoomOut(),\n                children: \"-\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 163,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"HeaderZoomIn\",\n                onClick: () => zoomIn(),\n                children: \"+\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 166,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"HeaderColorSwitch\",\n                onClick: () => switchColors.next(),\n                children: \"*icon*\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 170,\n                columnNumber: 33\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 162,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"buttonBlank leftButton\",\n              onClick: () => isLogged ? logOut() : setLoginBool(true),\n              children: isLogged ? 'Wyloguj' : 'Zaloguj'\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 175,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(Link, {\n              to: isLogged ? '/panel' : '/register',\n              className: \"linkBox\",\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"buttonFill\",\n                children: isLogged ? 'Panel Użytkownika' : 'Zarejestruj'\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 176,\n                columnNumber: 95\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 176,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 161,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 160,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 158,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 157,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"bottomHeader\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"bottomHeaderWrap\",\n        children: [/*#__PURE__*/_jsxDEV(\"ul\", {\n          className: \"bottomHeaderList\",\n          children: [/*#__PURE__*/_jsxDEV(Link, {\n            to: {\n              pathname: '/articles',\n              state: {\n                category: \"ogrod\"\n              }\n            },\n            children: /*#__PURE__*/_jsxDEV(\"li\", {\n              children: \"OGR\\xD3D\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 190,\n              columnNumber: 29\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 185,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(Link, {\n            to: {\n              pathname: '/articles',\n              state: {\n                category: \"polityka\"\n              }\n            },\n            children: /*#__PURE__*/_jsxDEV(\"li\", {\n              children: \"POLITYKA\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 197,\n              columnNumber: 29\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 192,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(Link, {\n            to: {\n              pathname: '/articles',\n              state: {\n                category: \"news\"\n              }\n            },\n            children: /*#__PURE__*/_jsxDEV(\"li\", {\n              children: \"NEWS\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 204,\n              columnNumber: 29\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 199,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 184,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"searchWrapper\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"searchBox\",\n            onMouseEnter: () => onMouseEnter(),\n            onMouseLeave: () => onMouseLeave(),\n            ref: searchBox,\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"searchBefore\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 209,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"text\",\n              ref: search,\n              className: \"search toSelect\",\n              name: \"search\",\n              placeholder: \"Wyszukaj\",\n              onFocus: () => onFocus(),\n              onBlur: () => onBlur(),\n              onChange: e => onChange(e)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 210,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"searchButton\",\n              children: /*#__PURE__*/_jsxDEV(\"svg\", {\n                xmlns: \"http://www.w3.org/2000/svg\",\n                width: \"20\",\n                height: \"20\",\n                viewBox: \"0 0 20 20\",\n                children: /*#__PURE__*/_jsxDEV(\"path\", {\n                  id: \"Icon_awesome-search\",\n                  \"data-name\": \"Icon awesome-search\",\n                  d: \"M19.728,17.291,15.833,13.4a.937.937,0,0,0-.664-.273h-.637a8.122,8.122,0,1,0-1.406,1.406v.637a.937.937,0,0,0,.273.664l3.895,3.894a.934.934,0,0,0,1.324,0l1.106-1.105A.942.942,0,0,0,19.728,17.291Zm-11.6-4.168a5,5,0,1,1,5-5A5,5,0,0,1,8.126,13.124Z\",\n                  fill: \"#fff\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 213,\n                  columnNumber: 37\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 212,\n                columnNumber: 33\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 211,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 208,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"searchList\",\n            children: searchBoxes\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 217,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 207,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 183,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 182,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(PopUpLogin, {\n      show: loginBool,\n      onClose: () => setLoginBool(false)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 225,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 156,\n    columnNumber: 9\n  }, this);\n}\n\n_s(Header, \"pAKjJu1Y0xbRmLKM0rFN880N5gs=\", false, function () {\n  return [useSelector, useSelector, useDispatch, useHistory];\n});\n\n_c = Header;\nexport default Header;\n\nvar _c;\n\n$RefreshReg$(_c, \"Header\");","map":{"version":3,"sources":["/Users/michal/Documents/portal_psi/src/header/header.js"],"names":["React","useState","useEffect","useRef","Link","useHistory","PopUpLogin","useSelector","useDispatch","signIn","signOut","notificationsPush","logo","SearchBox","Header","loginBool","setLoginBool","isLogged","state","notifications","dispatch","history","searchBoxes","setSerachBoxes","focused","setFocused","search","searchBox","fetchDatta","fetchData","fetch","credentials","method","data","json","status","onFocus","current","style","width","onBlur","value","length","onMouseEnter","onMouseLeave","onChange","e","reqBody","phrase","target","long","body","JSON","stringify","dataToDisplay","map","x","id","logOut","push","color","switcher","root","document","documentElement","setProperty","changeFontSize","property","action","rootToGet","window","getComputedStyle","text","getPropertyValue","output","substring","console","log","switchColors","zoomIn","zoomOut","next","pathname","category"],"mappings":"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","sourcesContent":["import './header.css';\r\nimport React, { useState, useEffect, useRef } from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport { useHistory } from 'react-router';\r\n//import { render } from '@testing-library/react';\r\nimport PopUpLogin from './login/login';\r\nimport { useSelector, useDispatch } from 'react-redux';\r\nimport { signIn, signOut, notificationsPush } from '../redux/actions/';\r\nimport logo from '../img/ic.png';\r\nimport SearchBox from './searchBox/searchBox';\r\n\r\nfunction Header() {\r\n\r\n    const [loginBool, setLoginBool] = useState(false);\r\n    const isLogged = useSelector(state => state.isLogged);\r\n    const notifications = useSelector(state => state.notifications);\r\n    const dispatch = useDispatch();\r\n    const history = useHistory();\r\n    const [searchBoxes, setSerachBoxes] = useState(null);\r\n    const [focused, setFocused] = useState(false);\r\n\r\n    const search = useRef();\r\n    const searchBox = useRef();\r\n\r\n    useEffect(() => {\r\n        async function fetchDatta() {\r\n            const fetchData = await fetch('http://localhost/blogg/api/isLogged.php', { credentials: 'include', method: 'GET' });\r\n            const data = await fetchData.json();\r\n            if (data.status === 1) {\r\n                dispatch(signIn());\r\n            }\r\n        }\r\n        fetchDatta();\r\n    }, [dispatch, isLogged, notifications]);\r\n\r\n\r\n\r\n    const onFocus = () => {\r\n        setFocused(true);\r\n        searchBox.current.style.width = \"210px\";\r\n\r\n    }\r\n    const onBlur = () => {\r\n        if (search.current.value.length === 0) {\r\n            searchBox.current.style.width = \"30px\";\r\n            setFocused(false);\r\n        }\r\n\r\n    }\r\n    const onMouseEnter = () => {\r\n        searchBox.current.style.width = \"210px\";\r\n\r\n    }\r\n    const onMouseLeave = () => {\r\n        if (focused === false) {\r\n            searchBox.current.style.width = \"30px\";\r\n        }\r\n    }\r\n\r\n    const onChange = async (e) => {\r\n        const reqBody = {\r\n            phrase: e.target.value,\r\n            long: false,\r\n        }\r\n        const fetchData = await fetch('http://localhost/blogg/api/search.php',\r\n            { credentials: 'include', method: 'POST', body: JSON.stringify(reqBody) });\r\n        const data = await fetchData.json();\r\n        if (data.status === 1) {\r\n            var dataToDisplay = await data.body.map((x) =>\r\n                <SearchBox key={x.id} object={x} onLinkClicked={() => {\r\n                    search.current.value = '';\r\n                    setSerachBoxes(null);\r\n                    searchBox.current.style.width = \"30px\";\r\n                    setFocused(false);\r\n                }}\r\n                />)\r\n\r\n            setSerachBoxes(dataToDisplay);\r\n        }\r\n    }\r\n\r\n\r\n    const logOut = async () => {\r\n        const fetchData = await fetch('http://localhost/blogg/api/logout.php', { credentials: 'include', method: 'GET' });\r\n        const data = await fetchData.json();\r\n        if (data.status === 1) {\r\n            dispatch(signOut())\r\n            history.push('/');\r\n            // history.go(0);\r\n            dispatch(notificationsPush({ x: \"Zostałeś wylogowany\", color: \"\", }));\r\n\r\n\r\n        }\r\n    }\r\n\r\n    function* switcher() {\r\n        let state = 0;\r\n        const root = document.documentElement;\r\n        while (true) {\r\n            root.style.setProperty('--background', \"#fff\");\r\n            root.style.setProperty('--backgroundLight', \"rgb(199, 199, 199)\");\r\n            root.style.setProperty('--textOnBackground', \"rgb(19, 19, 19)\");\r\n            root.style.setProperty('--textOnContrast', \"rgb(241, 241, 241)\");\r\n\r\n\r\n            yield;\r\n            root.style.setProperty('--background', \"#000\");\r\n            root.style.setProperty('--backgroundLight', \"rgb(59, 59, 59)\");\r\n            root.style.setProperty('--textOnBackground', \"#ffdd00\");\r\n            root.style.setProperty('--textOnContrast', \"#ff0000\");\r\n            yield;\r\n\r\n            root.style.setProperty('--background', \"rgb(44, 44, 44)\");\r\n            root.style.setProperty('--backgroundLight', \"rgb(59, 59, 59)\");\r\n            root.style.setProperty('--textOnBackground', \"rgb(241, 241, 241)\");\r\n            root.style.setProperty('--textOnContrast', \"rgb(19, 19, 19)\");\r\n            yield;\r\n            if (state === 3)\r\n                state = 1;\r\n        }\r\n    }\r\n\r\n    const changeFontSize = (property, action) => {\r\n        const root = document.documentElement;\r\n        const rootToGet = window.getComputedStyle(root);\r\n        const text = rootToGet.getPropertyValue(property);\r\n        let output = text.substring(0, text.length - 2);\r\n        console.log(output);\r\n        if (action === true)\r\n            root.style.setProperty(property, `${++output}px`);\r\n        else if (action === false)\r\n            root.style.setProperty(property, `${--output}px`);\r\n        else\r\n            throw 'Parameter action is not a boolean';\r\n\r\n\r\n    }\r\n    let switchColors = switcher();\r\n\r\n    const zoomIn = () => {\r\n        changeFontSize('--normalFontSize', true);\r\n        changeFontSize('--mediumFontSize', true);\r\n        changeFontSize('--bigFontSize', true);\r\n        changeFontSize('--defaultFontSize', true);\r\n\r\n\r\n\r\n    }\r\n\r\n    const zoomOut = () => {\r\n        //document.body.zoom(300);\r\n    }\r\n\r\n\r\n    return (\r\n        <div className=\"header\">\r\n            <div className=\"mainHeader\">\r\n                <div className=\"mainHeaderWrap\">\r\n                    {/* <Link to={\"/\"}><img src={logo} alt=\"\" className=\"logo\" /></Link> */}\r\n                    <div className=\"loginRegisterButtons\">\r\n                        <div className=\"headerWrapper\">\r\n                            <div className=\"HeaderAccessibilityOptions\">\r\n                                <div className=\"HeaderZoomOut\" onClick={() => zoomOut()} >\r\n                                    -\r\n                                </div>\r\n                                <div className=\"HeaderZoomIn\" onClick={() => zoomIn()}>\r\n                                    +\r\n                                </div>\r\n\r\n                                <div className=\"HeaderColorSwitch\" onClick={() => switchColors.next()} >\r\n                                    *icon*\r\n                                </div>\r\n\r\n                            </div>\r\n                            <div className=\"buttonBlank leftButton\" onClick={() => isLogged ? logOut() : setLoginBool(true)}>{isLogged ? 'Wyloguj' : 'Zaloguj'}</div>\r\n                            <Link to={isLogged ? '/panel' : '/register'} className='linkBox' ><div className=\"buttonFill\">{isLogged ? 'Panel Użytkownika' : 'Zarejestruj'}</div></Link>\r\n\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n            <div className=\"bottomHeader\">\r\n                <div className=\"bottomHeaderWrap\">\r\n                    <ul className=\"bottomHeaderList\">\r\n                        <Link to={{\r\n                            pathname: '/articles',\r\n                            state: { category: \"ogrod\" }\r\n\r\n                        }}>\r\n                            <li >OGRÓD</li>\r\n                        </Link>\r\n                        <Link to={{\r\n                            pathname: '/articles',\r\n                            state: { category: \"polityka\" }\r\n\r\n                        }} >\r\n                            <li>POLITYKA</li>\r\n                        </Link>\r\n                        <Link to={{\r\n                            pathname: '/articles',\r\n                            state: { category: \"news\" }\r\n\r\n                        }}>\r\n                            <li>NEWS</li>\r\n                        </Link>\r\n                    </ul>\r\n                    <div className=\"searchWrapper\">\r\n                        <div className=\"searchBox\" onMouseEnter={() => onMouseEnter()} onMouseLeave={() => onMouseLeave()} ref={searchBox}>\r\n                            <div className=\"searchBefore\"></div>\r\n                            <input type=\"text\" ref={search} className=\"search toSelect\" name=\"search\" placeholder=\"Wyszukaj\" onFocus={() => onFocus()} onBlur={() => onBlur()} onChange={(e) => onChange(e)} />\r\n                            <div className=\"searchButton\">\r\n                                <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"20\" height=\"20\" viewBox=\"0 0 20 20\">\r\n                                    <path id=\"Icon_awesome-search\" data-name=\"Icon awesome-search\" d=\"M19.728,17.291,15.833,13.4a.937.937,0,0,0-.664-.273h-.637a8.122,8.122,0,1,0-1.406,1.406v.637a.937.937,0,0,0,.273.664l3.895,3.894a.934.934,0,0,0,1.324,0l1.106-1.105A.942.942,0,0,0,19.728,17.291Zm-11.6-4.168a5,5,0,1,1,5-5A5,5,0,0,1,8.126,13.124Z\" fill=\"#fff\" />\r\n                                </svg>\r\n                            </div>\r\n                        </div>\r\n                        <div className=\"searchList\">\r\n                            {searchBoxes}\r\n                        </div>\r\n                    </div>\r\n\r\n\r\n                </div>\r\n            </div>\r\n            <PopUpLogin show={loginBool} onClose={() => setLoginBool(false)} />\r\n\r\n\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default Header;\r\n"]},"metadata":{},"sourceType":"module"}