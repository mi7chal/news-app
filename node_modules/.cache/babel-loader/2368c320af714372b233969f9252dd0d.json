{"ast":null,"code":"var _s = $RefreshSig$();\n\nimport { useEffect, useState } from \"react\";\nexport default function useArticles(category, offset, order) {\n  _s();\n\n  const [loading, setLoading] = useState(true);\n  const [articles, setArticles] = useState([]);\n  const [hasMore, setHasMore] = useState(false);\n  useEffect(() => {\n    setArticles([]);\n  }, [order, category]);\n  useEffect(() => {\n    setLoading(true);\n    let link = `http://localhost/blogg/api/list.php?offset=${offset}&order=${order}`;\n    if (category != null) link = link.concat(`&category=${category}`);\n    fetch(link, {\n      credentials: \"include\",\n      method: \"GET\"\n    }).then(x => x.json()).then(res => {\n      setArticles(x => {\n        if (res.status === 1) return [...new Set([...x, ...res.data])];else return x;\n      });\n      setHasMore(res.data.length > 0);\n      setLoading(false);\n    }).catch(e => {});\n  }, [order, category, offset]);\n  return {\n    loading,\n    articles,\n    hasMore\n  };\n}\n\n_s(useArticles, \"2AWUIRVxhBwmdtlC9eL9FlEqG9g=\");","map":{"version":3,"sources":["/Users/michal/Documents/portal_psi/src/list/useArticles.js"],"names":["useEffect","useState","useArticles","category","offset","order","loading","setLoading","articles","setArticles","hasMore","setHasMore","link","concat","fetch","credentials","method","then","x","json","res","status","Set","data","length","catch","e"],"mappings":";;AAAA,SAASA,SAAT,EAAoBC,QAApB,QAAoC,OAApC;AAEA,eAAe,SAASC,WAAT,CAAqBC,QAArB,EAA+BC,MAA/B,EAAuCC,KAAvC,EAA8C;AAAA;;AAC3D,QAAM,CAACC,OAAD,EAAUC,UAAV,IAAwBN,QAAQ,CAAC,IAAD,CAAtC;AACA,QAAM,CAACO,QAAD,EAAWC,WAAX,IAA0BR,QAAQ,CAAC,EAAD,CAAxC;AACA,QAAM,CAACS,OAAD,EAAUC,UAAV,IAAwBV,QAAQ,CAAC,KAAD,CAAtC;AAEAD,EAAAA,SAAS,CAAC,MAAM;AACdS,IAAAA,WAAW,CAAC,EAAD,CAAX;AACD,GAFQ,EAEN,CAACJ,KAAD,EAAQF,QAAR,CAFM,CAAT;AAIAH,EAAAA,SAAS,CAAC,MAAM;AACdO,IAAAA,UAAU,CAAC,IAAD,CAAV;AACA,QAAIK,IAAI,GAAI,8CAA6CR,MAAO,UAASC,KAAM,EAA/E;AAEA,QAAIF,QAAQ,IAAI,IAAhB,EAAsBS,IAAI,GAAGA,IAAI,CAACC,MAAL,CAAa,aAAYV,QAAS,EAAlC,CAAP;AACtBW,IAAAA,KAAK,CAACF,IAAD,EAAO;AAAEG,MAAAA,WAAW,EAAE,SAAf;AAA0BC,MAAAA,MAAM,EAAE;AAAlC,KAAP,CAAL,CACGC,IADH,CACSC,CAAD,IAAOA,CAAC,CAACC,IAAF,EADf,EAEGF,IAFH,CAESG,GAAD,IAAS;AACbX,MAAAA,WAAW,CAAES,CAAD,IAAO;AACjB,YAAIE,GAAG,CAACC,MAAJ,KAAe,CAAnB,EAAsB,OAAO,CAAC,GAAG,IAAIC,GAAJ,CAAQ,CAAC,GAAGJ,CAAJ,EAAO,GAAGE,GAAG,CAACG,IAAd,CAAR,CAAJ,CAAP,CAAtB,KACK,OAAOL,CAAP;AACN,OAHU,CAAX;AAIAP,MAAAA,UAAU,CAACS,GAAG,CAACG,IAAJ,CAASC,MAAT,GAAkB,CAAnB,CAAV;AACAjB,MAAAA,UAAU,CAAC,KAAD,CAAV;AACD,KATH,EAUGkB,KAVH,CAUUC,CAAD,IAAO,CAAE,CAVlB;AAWD,GAhBQ,EAgBN,CAACrB,KAAD,EAAQF,QAAR,EAAkBC,MAAlB,CAhBM,CAAT;AAkBA,SAAO;AAAEE,IAAAA,OAAF;AAAWE,IAAAA,QAAX;AAAqBE,IAAAA;AAArB,GAAP;AACD;;GA5BuBR,W","sourcesContent":["import { useEffect, useState } from \"react\";\r\n\r\nexport default function useArticles(category, offset, order) {\r\n  const [loading, setLoading] = useState(true);\r\n  const [articles, setArticles] = useState([]);\r\n  const [hasMore, setHasMore] = useState(false);\r\n\r\n  useEffect(() => {\r\n    setArticles([]);\r\n  }, [order, category]);\r\n\r\n  useEffect(() => {\r\n    setLoading(true);\r\n    let link = `http://localhost/blogg/api/list.php?offset=${offset}&order=${order}`;\r\n\r\n    if (category != null) link = link.concat(`&category=${category}`);\r\n    fetch(link, { credentials: \"include\", method: \"GET\" })\r\n      .then((x) => x.json())\r\n      .then((res) => {\r\n        setArticles((x) => {\r\n          if (res.status === 1) return [...new Set([...x, ...res.data])];\r\n          else return x;\r\n        });\r\n        setHasMore(res.data.length > 0);\r\n        setLoading(false);\r\n      })\r\n      .catch((e) => {});\r\n  }, [order, category, offset]);\r\n\r\n  return { loading, articles, hasMore };\r\n}\r\n"]},"metadata":{},"sourceType":"module"}