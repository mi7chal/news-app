{"ast":null,"code":"var _jsxFileName = \"/Users/michal/Documents/portal_psi/src/header/header.js\",\n    _s = $RefreshSig$();\n\nimport \"./header.css\";\nimport React, { useState, useEffect, useRef } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport { useHistory } from \"react-router\"; //import { render } from '@testing-library/react';\n\nimport PopUpLogin from \"./login/login\";\nimport { useSelector, useDispatch } from \"react-redux\";\nimport { signIn, signOut, notificationsPush } from \"../redux/actions/\";\nimport logo from \"../img/ic.png\";\nimport SearchBox from \"./searchBox/searchBox\";\nimport Switcher from \"./contrastSwitch.svg\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction Header() {\n  _s();\n\n  const [loginBool, setLoginBool] = useState(false);\n  const isLogged = useSelector(state => state.isLogged);\n  const notifications = useSelector(state => state.notifications);\n  const dispatch = useDispatch();\n  const history = useHistory();\n  const [searchBoxes, setSerachBoxes] = useState(null);\n  const [focused, setFocused] = useState(false);\n  const search = useRef();\n  const searchBox = useRef();\n  useEffect(() => {\n    async function fetchDatta() {\n      const fetchData = await fetch(\"http://localhost/blogg/api/isLogged.php\", {\n        credentials: \"include\",\n        method: \"GET\"\n      });\n      const data = await fetchData.json();\n\n      if (data.status === 1) {\n        dispatch(signIn());\n      }\n    }\n\n    fetchDatta();\n  }, [dispatch, isLogged, notifications]);\n\n  const onFocus = () => {\n    setFocused(true);\n    searchBox.current.style.width = \"210px\";\n  };\n\n  const onBlur = () => {\n    if (search.current.value.length === 0) {\n      searchBox.current.style.width = \"30px\";\n      setFocused(false);\n    }\n  };\n\n  const onMouseEnter = () => {\n    searchBox.current.style.width = \"210px\";\n  };\n\n  const onMouseLeave = () => {\n    if (focused === false) {\n      searchBox.current.style.width = \"30px\";\n    }\n  };\n\n  const onChange = async e => {\n    const reqBody = {\n      phrase: e.target.value,\n      long: false\n    };\n    const fetchData = await fetch(\"http://localhost/blogg/api/search.php\", {\n      credentials: \"include\",\n      method: \"POST\",\n      body: JSON.stringify(reqBody)\n    });\n    const data = await fetchData.json();\n\n    if (data.status === 1) {\n      var dataToDisplay = await data.body.map(x => /*#__PURE__*/_jsxDEV(SearchBox, {\n        object: x,\n        onLinkClicked: () => {\n          search.current.value = \"\";\n          setSerachBoxes(null);\n          searchBox.current.style.width = \"30px\";\n          setFocused(false);\n        }\n      }, x.id, false, {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 9\n      }, this));\n      setSerachBoxes(dataToDisplay);\n    }\n  };\n\n  const logOut = async () => {\n    const fetchData = await fetch(\"http://localhost/blogg/api/logout.php\", {\n      credentials: \"include\",\n      method: \"GET\"\n    });\n    const data = await fetchData.json();\n\n    if (data.status === 1) {\n      dispatch(signOut());\n      history.push(\"/\"); // history.go(0);\n\n      dispatch(notificationsPush({\n        x: \"Zostałeś wylogowany\",\n        color: \"\"\n      }));\n    }\n  };\n\n  function* switcher() {\n    let state = 0;\n    const root = document.documentElement;\n\n    while (true) {\n      root.style.setProperty(\"--background\", \"#fff\");\n      root.style.setProperty(\"--backgroundLight\", \"rgb(199, 199, 199)\");\n      root.style.setProperty(\"--textOnBackground\", \"rgb(19, 19, 19)\");\n      root.style.setProperty(\"--textOnContrast\", \"rgb(241, 241, 241)\");\n      yield;\n      root.style.setProperty(\"--background\", \"#000\");\n      root.style.setProperty(\"--backgroundLight\", \"rgb(59, 59, 59)\");\n      root.style.setProperty(\"--textOnBackground\", \"#ffdd00\");\n      root.style.setProperty(\"--textOnContrast\", \"#ff0000\");\n      yield;\n      root.style.setProperty(\"--background\", \"rgb(44, 44, 44)\");\n      root.style.setProperty(\"--backgroundLight\", \"rgb(59, 59, 59)\");\n      root.style.setProperty(\"--textOnBackground\", \"rgb(241, 241, 241)\");\n      root.style.setProperty(\"--textOnContrast\", \"rgb(19, 19, 19)\");\n      yield;\n      if (state === 3) state = 1;\n    }\n  }\n\n  const changeFontSize = (property, action) => {\n    const root = document.documentElement;\n    const rootToGet = window.getComputedStyle(root);\n    const text = rootToGet.getPropertyValue(property);\n    let output = text.substring(0, text.length - 2);\n    console.log(output);\n    if (action === true) root.style.setProperty(property, `${++output}px`);else if (action === false) root.style.setProperty(property, `${--output}px`);else throw \"Parameter action is not a boolean\";\n  };\n\n  let switchColors = switcher();\n\n  const zoomIn = () => {\n    changeFontSize(\"--normalFontSize\", true);\n    changeFontSize(\"--mediumFontSize\", true);\n    changeFontSize(\"--bigFontSize\", true);\n    changeFontSize(\"--defaultFontSize\", true);\n  };\n\n  const zoomOut = () => {\n    changeFontSize(\"--normalFontSize\", false);\n    changeFontSize(\"--mediumFontSize\", false);\n    changeFontSize(\"--bigFontSize\", false);\n    changeFontSize(\"--defaultFontSize\", false);\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"header\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"mainHeader\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"mainHeaderWrap\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"loginRegisterButtons\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"headerWrapper\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"HeaderAccessibilityOptions\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"HeaderZoomOut\",\n                onClick: () => zoomOut(),\n                children: \"-\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 161,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"HeaderZoomIn\",\n                onClick: () => zoomIn(),\n                children: \"+\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 164,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"HeaderColorSwitch\",\n                onClick: () => switchColors.next(),\n                children: /*#__PURE__*/_jsxDEV(\"svg\", {\n                  children: /*#__PURE__*/_jsxDEV(\"image\", {\n                    className: \"HeaderContrastSwitcher\",\n                    src: Switcher\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 173,\n                    columnNumber: 21\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 172,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 168,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 160,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"buttonBlank leftButton\",\n              onClick: () => isLogged ? logOut() : setLoginBool(true),\n              children: isLogged ? \"Wyloguj\" : \"Zaloguj\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 180,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Link, {\n              to: isLogged ? \"/panel\" : \"/register\",\n              className: \"linkBox\",\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"buttonFill\",\n                children: isLogged ? \"Panel Użytkownika\" : \"Zarejestruj\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 187,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 186,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 159,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 158,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 156,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 155,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"bottomHeader\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"bottomHeaderWrap\",\n        children: [/*#__PURE__*/_jsxDEV(\"ul\", {\n          className: \"bottomHeaderList\",\n          children: [/*#__PURE__*/_jsxDEV(Link, {\n            to: {\n              pathname: \"/articles\",\n              state: {\n                category: \"ogrod\"\n              }\n            },\n            children: /*#__PURE__*/_jsxDEV(\"li\", {\n              children: \"OGR\\xD3D\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 204,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 198,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Link, {\n            to: {\n              pathname: \"/articles\",\n              state: {\n                category: \"polityka\"\n              }\n            },\n            children: /*#__PURE__*/_jsxDEV(\"li\", {\n              children: \"POLITYKA\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 212,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 206,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Link, {\n            to: {\n              pathname: \"/articles\",\n              state: {\n                category: \"news\"\n              }\n            },\n            children: /*#__PURE__*/_jsxDEV(\"li\", {\n              children: \"NEWS\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 220,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 214,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 197,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"searchWrapper\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"searchBox\",\n            onMouseEnter: () => onMouseEnter(),\n            onMouseLeave: () => onMouseLeave(),\n            ref: searchBox,\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"searchBefore\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 230,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"text\",\n              ref: search,\n              className: \"search toSelect\",\n              name: \"search\",\n              placeholder: \"Wyszukaj\",\n              onFocus: () => onFocus(),\n              onBlur: () => onBlur(),\n              onChange: e => onChange(e)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 231,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"searchButton\",\n              children: /*#__PURE__*/_jsxDEV(\"svg\", {\n                xmlns: \"http://www.w3.org/2000/svg\",\n                width: \"20\",\n                height: \"20\",\n                viewBox: \"0 0 20 20\",\n                children: /*#__PURE__*/_jsxDEV(\"path\", {\n                  id: \"Icon_awesome-search\",\n                  \"data-name\": \"Icon awesome-search\",\n                  d: \"M19.728,17.291,15.833,13.4a.937.937,0,0,0-.664-.273h-.637a8.122,8.122,0,1,0-1.406,1.406v.637a.937.937,0,0,0,.273.664l3.895,3.894a.934.934,0,0,0,1.324,0l1.106-1.105A.942.942,0,0,0,19.728,17.291Zm-11.6-4.168a5,5,0,1,1,5-5A5,5,0,0,1,8.126,13.124Z\",\n                  fill: \"#fff\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 248,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 242,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 241,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 224,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"searchList\",\n            children: searchBoxes\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 257,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 223,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 196,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 195,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(PopUpLogin, {\n      show: loginBool,\n      onClose: () => setLoginBool(false)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 261,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 154,\n    columnNumber: 5\n  }, this);\n}\n\n_s(Header, \"pAKjJu1Y0xbRmLKM0rFN880N5gs=\", false, function () {\n  return [useSelector, useSelector, useDispatch, useHistory];\n});\n\n_c = Header;\nexport default Header;\n\nvar _c;\n\n$RefreshReg$(_c, \"Header\");","map":{"version":3,"sources":["/Users/michal/Documents/portal_psi/src/header/header.js"],"names":["React","useState","useEffect","useRef","Link","useHistory","PopUpLogin","useSelector","useDispatch","signIn","signOut","notificationsPush","logo","SearchBox","Header","loginBool","setLoginBool","isLogged","state","notifications","dispatch","history","searchBoxes","setSerachBoxes","focused","setFocused","search","searchBox","fetchDatta","fetchData","fetch","credentials","method","data","json","status","onFocus","current","style","width","onBlur","value","length","onMouseEnter","onMouseLeave","onChange","e","reqBody","phrase","target","long","body","JSON","stringify","dataToDisplay","map","x","id","logOut","push","color","switcher","root","document","documentElement","setProperty","changeFontSize","property","action","rootToGet","window","getComputedStyle","text","getPropertyValue","output","substring","console","log","switchColors","zoomIn","zoomOut","next","Switcher","pathname","category"],"mappings":"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","sourcesContent":["import \"./header.css\";\r\nimport React, { useState, useEffect, useRef } from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { useHistory } from \"react-router\";\r\n//import { render } from '@testing-library/react';\r\nimport PopUpLogin from \"./login/login\";\r\nimport { useSelector, useDispatch } from \"react-redux\";\r\nimport { signIn, signOut, notificationsPush } from \"../redux/actions/\";\r\nimport logo from \"../img/ic.png\";\r\nimport SearchBox from \"./searchBox/searchBox\";\r\nimport Switcher from \"./contrastSwitch.svg\";\r\n\r\nfunction Header() {\r\n  const [loginBool, setLoginBool] = useState(false);\r\n  const isLogged = useSelector((state) => state.isLogged);\r\n  const notifications = useSelector((state) => state.notifications);\r\n  const dispatch = useDispatch();\r\n  const history = useHistory();\r\n  const [searchBoxes, setSerachBoxes] = useState(null);\r\n  const [focused, setFocused] = useState(false);\r\n\r\n  const search = useRef();\r\n  const searchBox = useRef();\r\n\r\n  useEffect(() => {\r\n    async function fetchDatta() {\r\n      const fetchData = await fetch(\"http://localhost/blogg/api/isLogged.php\", {\r\n        credentials: \"include\",\r\n        method: \"GET\",\r\n      });\r\n      const data = await fetchData.json();\r\n      if (data.status === 1) {\r\n        dispatch(signIn());\r\n      }\r\n    }\r\n    fetchDatta();\r\n  }, [dispatch, isLogged, notifications]);\r\n\r\n  const onFocus = () => {\r\n    setFocused(true);\r\n    searchBox.current.style.width = \"210px\";\r\n  };\r\n  const onBlur = () => {\r\n    if (search.current.value.length === 0) {\r\n      searchBox.current.style.width = \"30px\";\r\n      setFocused(false);\r\n    }\r\n  };\r\n  const onMouseEnter = () => {\r\n    searchBox.current.style.width = \"210px\";\r\n  };\r\n  const onMouseLeave = () => {\r\n    if (focused === false) {\r\n      searchBox.current.style.width = \"30px\";\r\n    }\r\n  };\r\n\r\n  const onChange = async (e) => {\r\n    const reqBody = {\r\n      phrase: e.target.value,\r\n      long: false,\r\n    };\r\n    const fetchData = await fetch(\"http://localhost/blogg/api/search.php\", {\r\n      credentials: \"include\",\r\n      method: \"POST\",\r\n      body: JSON.stringify(reqBody),\r\n    });\r\n    const data = await fetchData.json();\r\n    if (data.status === 1) {\r\n      var dataToDisplay = await data.body.map((x) => (\r\n        <SearchBox\r\n          key={x.id}\r\n          object={x}\r\n          onLinkClicked={() => {\r\n            search.current.value = \"\";\r\n            setSerachBoxes(null);\r\n            searchBox.current.style.width = \"30px\";\r\n            setFocused(false);\r\n          }}\r\n        />\r\n      ));\r\n\r\n      setSerachBoxes(dataToDisplay);\r\n    }\r\n  };\r\n\r\n  const logOut = async () => {\r\n    const fetchData = await fetch(\"http://localhost/blogg/api/logout.php\", {\r\n      credentials: \"include\",\r\n      method: \"GET\",\r\n    });\r\n    const data = await fetchData.json();\r\n    if (data.status === 1) {\r\n      dispatch(signOut());\r\n      history.push(\"/\");\r\n      // history.go(0);\r\n      dispatch(notificationsPush({ x: \"Zostałeś wylogowany\", color: \"\" }));\r\n    }\r\n  };\r\n\r\n  function* switcher() {\r\n    let state = 0;\r\n    const root = document.documentElement;\r\n    while (true) {\r\n      root.style.setProperty(\"--background\", \"#fff\");\r\n      root.style.setProperty(\"--backgroundLight\", \"rgb(199, 199, 199)\");\r\n      root.style.setProperty(\"--textOnBackground\", \"rgb(19, 19, 19)\");\r\n      root.style.setProperty(\"--textOnContrast\", \"rgb(241, 241, 241)\");\r\n\r\n      yield;\r\n      root.style.setProperty(\"--background\", \"#000\");\r\n      root.style.setProperty(\"--backgroundLight\", \"rgb(59, 59, 59)\");\r\n      root.style.setProperty(\"--textOnBackground\", \"#ffdd00\");\r\n      root.style.setProperty(\"--textOnContrast\", \"#ff0000\");\r\n      yield;\r\n\r\n      root.style.setProperty(\"--background\", \"rgb(44, 44, 44)\");\r\n      root.style.setProperty(\"--backgroundLight\", \"rgb(59, 59, 59)\");\r\n      root.style.setProperty(\"--textOnBackground\", \"rgb(241, 241, 241)\");\r\n      root.style.setProperty(\"--textOnContrast\", \"rgb(19, 19, 19)\");\r\n      yield;\r\n      if (state === 3) state = 1;\r\n    }\r\n  }\r\n\r\n  const changeFontSize = (property, action) => {\r\n    const root = document.documentElement;\r\n    const rootToGet = window.getComputedStyle(root);\r\n    const text = rootToGet.getPropertyValue(property);\r\n    let output = text.substring(0, text.length - 2);\r\n    console.log(output);\r\n    if (action === true) root.style.setProperty(property, `${++output}px`);\r\n    else if (action === false)\r\n      root.style.setProperty(property, `${--output}px`);\r\n    else throw \"Parameter action is not a boolean\";\r\n  };\r\n  let switchColors = switcher();\r\n\r\n  const zoomIn = () => {\r\n    changeFontSize(\"--normalFontSize\", true);\r\n    changeFontSize(\"--mediumFontSize\", true);\r\n    changeFontSize(\"--bigFontSize\", true);\r\n    changeFontSize(\"--defaultFontSize\", true);\r\n  };\r\n\r\n  const zoomOut = () => {\r\n    changeFontSize(\"--normalFontSize\", false);\r\n    changeFontSize(\"--mediumFontSize\", false);\r\n    changeFontSize(\"--bigFontSize\", false);\r\n    changeFontSize(\"--defaultFontSize\", false);\r\n  };\r\n\r\n  return (\r\n    <div className=\"header\">\r\n      <div className=\"mainHeader\">\r\n        <div className=\"mainHeaderWrap\">\r\n          {/* <Link to={\"/\"}><img src={logo} alt=\"\" className=\"logo\" /></Link> */}\r\n          <div className=\"loginRegisterButtons\">\r\n            <div className=\"headerWrapper\">\r\n              <div className=\"HeaderAccessibilityOptions\">\r\n                <div className=\"HeaderZoomOut\" onClick={() => zoomOut()}>\r\n                  -\r\n                </div>\r\n                <div className=\"HeaderZoomIn\" onClick={() => zoomIn()}>\r\n                  +\r\n                </div>\r\n\r\n                <div\r\n                  className=\"HeaderColorSwitch\"\r\n                  onClick={() => switchColors.next()}\r\n                >\r\n                  <svg>\r\n                    <image\r\n                      className=\"HeaderContrastSwitcher\"\r\n                      src={Switcher}\r\n                    ></image>\r\n                  </svg>\r\n                </div>\r\n              </div>\r\n              <div\r\n                className=\"buttonBlank leftButton\"\r\n                onClick={() => (isLogged ? logOut() : setLoginBool(true))}\r\n              >\r\n                {isLogged ? \"Wyloguj\" : \"Zaloguj\"}\r\n              </div>\r\n              <Link to={isLogged ? \"/panel\" : \"/register\"} className=\"linkBox\">\r\n                <div className=\"buttonFill\">\r\n                  {isLogged ? \"Panel Użytkownika\" : \"Zarejestruj\"}\r\n                </div>\r\n              </Link>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <div className=\"bottomHeader\">\r\n        <div className=\"bottomHeaderWrap\">\r\n          <ul className=\"bottomHeaderList\">\r\n            <Link\r\n              to={{\r\n                pathname: \"/articles\",\r\n                state: { category: \"ogrod\" },\r\n              }}\r\n            >\r\n              <li>OGRÓD</li>\r\n            </Link>\r\n            <Link\r\n              to={{\r\n                pathname: \"/articles\",\r\n                state: { category: \"polityka\" },\r\n              }}\r\n            >\r\n              <li>POLITYKA</li>\r\n            </Link>\r\n            <Link\r\n              to={{\r\n                pathname: \"/articles\",\r\n                state: { category: \"news\" },\r\n              }}\r\n            >\r\n              <li>NEWS</li>\r\n            </Link>\r\n          </ul>\r\n          <div className=\"searchWrapper\">\r\n            <div\r\n              className=\"searchBox\"\r\n              onMouseEnter={() => onMouseEnter()}\r\n              onMouseLeave={() => onMouseLeave()}\r\n              ref={searchBox}\r\n            >\r\n              <div className=\"searchBefore\"></div>\r\n              <input\r\n                type=\"text\"\r\n                ref={search}\r\n                className=\"search toSelect\"\r\n                name=\"search\"\r\n                placeholder=\"Wyszukaj\"\r\n                onFocus={() => onFocus()}\r\n                onBlur={() => onBlur()}\r\n                onChange={(e) => onChange(e)}\r\n              />\r\n              <div className=\"searchButton\">\r\n                <svg\r\n                  xmlns=\"http://www.w3.org/2000/svg\"\r\n                  width=\"20\"\r\n                  height=\"20\"\r\n                  viewBox=\"0 0 20 20\"\r\n                >\r\n                  <path\r\n                    id=\"Icon_awesome-search\"\r\n                    data-name=\"Icon awesome-search\"\r\n                    d=\"M19.728,17.291,15.833,13.4a.937.937,0,0,0-.664-.273h-.637a8.122,8.122,0,1,0-1.406,1.406v.637a.937.937,0,0,0,.273.664l3.895,3.894a.934.934,0,0,0,1.324,0l1.106-1.105A.942.942,0,0,0,19.728,17.291Zm-11.6-4.168a5,5,0,1,1,5-5A5,5,0,0,1,8.126,13.124Z\"\r\n                    fill=\"#fff\"\r\n                  />\r\n                </svg>\r\n              </div>\r\n            </div>\r\n            <div className=\"searchList\">{searchBoxes}</div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <PopUpLogin show={loginBool} onClose={() => setLoginBool(false)} />\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Header;\r\n"]},"metadata":{},"sourceType":"module"}